<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Marketplace Chat</title>

<style>
body {
    font-family: Arial, sans-serif;
    background: #f4f6f8;
    margin: 0;
    padding: 0;
}

header {
    background: #1e88e5;
    color: white;
    padding: 15px;
    text-align: center;
}

#talkjs-container {
    width: 100%;
    height: calc(100vh - 60px);
}
</style>
</head>
<body>

<header>
    Chat with Seller
</header>

<div id="talkjs-container"></div>

<!-- TalkJS Script -->
<script>
(function(t,a,l,k,j,s){
  s=a.createElement('script');s.async=1;s.src='https://cdn.talkjs.com/talk.js';
  a.head.appendChild(s);k=t.Promise;
  t.Talk={v:3,ready:{then:function(f){if(k)return new k(function(r,e){l.push([f,r,e])});l.push([f])},catch:function(){return k&&new k()},c:l}};
})(window,document,[]);
</script>

<script>
Talk.ready.then(function () {

    /* BUYER USER */
    const buyer = new Talk.User({
        id: "buyer_001",
        name: "Buyer",
        email: "buyer@example.com",
        role: "buyer",
        photoUrl: "https://i.pravatar.cc/150?img=3"
    });

    /* SELLER USER */
    const seller = new Talk.User({
        id: "seller_001",
        name: "ProSeller99",
        email: "seller@example.com",
        role: "seller",
        photoUrl: "https://i.pravatar.cc/150?img=8"
    });

    /* TALKJS SESSION */
    const session = new Talk.Session({
        appId: "YOUR_APP_ID_HERE",
        me: buyer
    });

    /* CONVERSATION (1 ORDER = 1 CHAT) */
    const conversationId = "order_12345";
    const conversation = session.getOrCreateConversation(conversationId);

    conversation.setParticipant(buyer);
    conversation.setParticipant(seller);

    conversation.setAttributes({
        subject: "Valorant Account Purchase",
        custom: {
            price: "$120",
            game: "Valorant"
        }
    });

    /* CHAT UI */
    const inbox = session.createInbox({
        selected: conversation
    });

    inbox.mount(document.getElementById("talkjs-container"));

});
</script>

</body>
</html>
